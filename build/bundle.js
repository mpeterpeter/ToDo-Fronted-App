var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function l(t){t.forEach(e)}function u(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e,n,l){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}(n,l))}function s(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode.removeChild(t)}function a(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function p(){return f(" ")}function h(){return f("")}function g(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function y(t,e){t.value=null==e?"":e}function v(t,e,n,l){t.style.setProperty(e,n,l?"important":"")}function b(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}}let _;function k(t){_=t}const x=[],L=[],C=[],w=[],O=Promise.resolve();let E=!1;function S(t){C.push(t)}let j=!1;const N=new Set;function T(){if(!j){j=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];k(e),A(e.$$)}for(k(null),x.length=0;L.length;)L.pop()();for(let t=0;t<C.length;t+=1){const e=C[t];N.has(e)||(N.add(e),e())}C.length=0}while(x.length);for(;w.length;)w.pop()();E=!1,j=!1,N.clear()}}function A(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(S)}}const P=new Set;let z;function U(){z={r:0,c:[],p:z}}function q(){z.r||l(z.c),z=z.p}function B(t,e){t&&t.i&&(P.delete(t),t.i(e))}function D(t,e,n,l){if(t&&t.o){if(P.has(t))return;P.add(t),z.c.push((()=>{P.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}}function I(t){t&&t.c()}function J(t,n,o){const{fragment:r,on_mount:s,on_destroy:i,after_update:c}=t.$$;r&&r.m(n,o),S((()=>{const n=s.map(e).filter(u);i?i.push(...n):l(n),t.$$.on_mount=[]})),c.forEach(S)}function M(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(x.push(t),E||(E=!0,O.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(e,u,o,r,s,i,a=[-1]){const d=_;k(e);const f=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:a,skip_bound:!1};let p=!1;if(f.ctx=o?o(e,u.props||{},((t,n,...l)=>{const u=l.length?l[0]:n;return f.ctx&&s(f.ctx[t],f.ctx[t]=u)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](u),p&&F(e,t)),n})):[],f.update(),p=!0,l(f.before_update),f.fragment=!!r&&r(f.ctx),u.target){if(u.hydrate){const t=function(t){return Array.from(t.childNodes)}(u.target);f.fragment&&f.fragment.l(t),t.forEach(c)}else f.fragment&&f.fragment.c();u.intro&&B(e.$$.fragment),J(e,u.target,u.anchor),T()}k(d)}class H{$destroy(){M(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const K=[];function Q(e,n=t){let l;const u=[];function r(t){if(o(e,t)&&(e=t,l)){const t=!K.length;for(let t=0;t<u.length;t+=1){const n=u[t];n[1](),K.push(n,e)}if(t){for(let t=0;t<K.length;t+=2)K[t][0](K[t+1]);K.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(o,s=t){const i=[o,s];return u.push(i),1===u.length&&(l=n(r)||t),o(e),()=>{const t=u.indexOf(i);-1!==t&&u.splice(t,1),0===u.length&&(l(),l=null)}}}}let R={id_count:0,lists:{},currentList:"default"};const V=function(){let t=Q(R),e=JSON.parse(localStorage.getItem("data"));e&&(t=Q(e));const n=t=>{localStorage.setItem("data",JSON.stringify(t))};return t.updateToLocal=e=>{t.update((t=>t)),n(e)},t.idPlus=()=>t.update((t=>(t.id_count++,n(t),t))),t.addList=e=>t.update((t=>(t.lists[e]=[],t.currentList=e,n(t),t))),t.deleteList=e=>t.update((t=>"default"!==e?(delete t.lists[e],t.currentList="default",n(t),t):(alert("No List left!"),t))),t.setCurrentList=e=>t.update((t=>(t.currentList=e,n(t),t))),t.addToCurrentList=e=>t.update((t=>{let l=t.currentList;return t.lists[l]=[...t.lists[l],e],n(t),t})),t.cleanUpCurrentList=()=>t.update((t=>{let e=t.currentList;return t.lists[e]=t.lists[e].filter((t=>!0!==t.done)),n(t),t})),t}();function W(t,e,n){const l=t.slice();return l[8]=e[n],l}function X(t){let e,n=Object.keys(t[1].lists),l=[];for(let e=0;e<n.length;e+=1)l[e]=Y(W(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=h()},m(t,n){for(let e=0;e<l.length;e+=1)l[e].m(t,n);i(t,e,n)},p(t,u){if(2&u){let o;for(n=Object.keys(t[1].lists),o=0;o<n.length;o+=1){const r=W(t,n,o);l[o]?l[o].p(r,u):(l[o]=Y(r),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(t){a(l,t),t&&c(e)}}}function Y(t){let e,n,l,u=t[8]+"";return{c(){e=d("option"),n=f(u),e.__value=l=t[8],e.value=e.__value},m(t,l){i(t,e,l),s(e,n)},p(t,o){2&o&&u!==(u=t[8]+"")&&$(n,u),2&o&&l!==(l=t[8])&&(e.__value=l,e.value=e.__value)},d(t){t&&c(e)}}}function Z(e){let n,u,o,r,a,f,h,$,v,_,k,x,L,C=Object.keys(e[1].lists),w=C&&X(e);return{c(){n=d("main"),u=d("div"),o=d("input"),r=p(),a=d("button"),a.textContent="New List",f=p(),h=d("div"),$=d("select"),v=d("option"),v.textContent="ListenAnzeige",w&&w.c(),_=p(),k=d("button"),k.textContent="delete List",m(o,"id","listSelect"),m(o,"type","text"),m(u,"class","svelte-zbi8xj"),v.__value="default",v.value=v.__value,v.disabled=!0,m($,"name","currentList"),m($,"id","Svelte-Select"),void 0===e[1].currentList&&S((()=>e[6].call($))),m(h,"class","svelte-zbi8xj"),m(n,"class","svelte-zbi8xj")},m(t,l){i(t,n,l),s(n,u),s(u,o),y(o,e[0]),s(u,r),s(u,a),s(n,f),s(n,h),s(h,$),s($,v),w&&w.m($,null),b($,e[1].currentList),s(h,_),s(h,k),x||(L=[g(o,"keyup",e[3]),g(o,"input",e[4]),g(a,"click",e[5]),g($,"change",e[6]),g(k,"click",e[7])],x=!0)},p(t,[e]){1&e&&o.value!==t[0]&&y(o,t[0]),2&e&&(C=Object.keys(t[1].lists)),C?w?w.p(t,e):(w=X(t),w.c(),w.m($,null)):w&&(w.d(1),w=null),2&e&&b($,t[1].currentList)},i:t,o:t,d(t){t&&c(n),w&&w.d(),x=!1,l(L)}}}function tt(t,e,n){let l;r(t,V,(t=>n(1,l=t)));let u="";const o=t=>{"Enter"===t&&u&&(V.addList(u),n(0,u=""))};return[u,l,o,t=>o(t.key),function(){u=this.value,n(0,u)},()=>o("Enter"),function(){l.currentList=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),V.set(l)},()=>{V.deleteList(l.currentList)}]}class et extends H{constructor(t){super(),G(this,t,tt,Z,o,{})}}function nt(e){let n,u,o,r,a,f;return{c(){n=d("div"),u=d("input"),o=p(),r=d("button"),r.textContent="Add",m(u,"type","text"),m(u,"class","svelte-1lbkt1"),m(r,"class","svelte-1lbkt1"),m(n,"class","svelte-1lbkt1")},m(t,l){i(t,n,l),s(n,u),y(u,e[0]),s(n,o),s(n,r),a||(f=[g(u,"keyup",e[2]),g(u,"input",e[3]),g(r,"click",e[4])],a=!0)},p(t,[e]){1&e&&u.value!==t[0]&&y(u,t[0])},i:t,o:t,d(t){t&&c(n),a=!1,l(f)}}}function lt(t,e,n){let l;r(t,V,(t=>n(5,l=t)));let u="";const o=t=>{if("Enter"==t&&u){V.idPlus();let t={id:l.id_count.toString()+u,name:u,done:!1};V.addToCurrentList(t),n(0,u="")}};return[u,o,t=>o(t.key),function(){u=this.value,n(0,u)},()=>o("Enter")]}class ut extends H{constructor(t){super(),G(this,t,lt,nt,o,{})}}function ot(t){let e,n,u,o;return{c(){e=d("input"),v(e,"text-decoration","none"),m(e,"id",n=t[0].id),m(e,"type","text"),e.readOnly=!0,m(e,"class","svelte-faty5d")},m(n,l){i(n,e,l),t[7](e),y(e,t[0].name),u||(o=[g(e,"input",t[8]),g(e,"dblclick",t[9]),g(e,"keyup",t[3])],u=!0)},p(t,l){1&l&&n!==(n=t[0].id)&&m(e,"id",n),1&l&&e.value!==t[0].name&&y(e,t[0].name)},d(n){n&&c(e),t[7](null),u=!1,l(o)}}}function rt(t){let e,n,u,o;return{c(){e=d("input"),v(e,"text-decoration","line-through"),m(e,"id",n=t[0].id),m(e,"type","text"),e.readOnly=!0,m(e,"class","svelte-faty5d")},m(n,l){i(n,e,l),t[4](e),y(e,t[0].name),u||(o=[g(e,"input",t[5]),g(e,"dblclick",t[6]),g(e,"keyup",t[3])],u=!0)},p(t,l){1&l&&n!==(n=t[0].id)&&m(e,"id",n),1&l&&e.value!==t[0].name&&y(e,t[0].name)},d(n){n&&c(e),t[4](null),u=!1,l(o)}}}function st(e){let n,l,u,o,r;function a(t,e){return t[0].done?rt:ot}let f=a(e),h=f(e);return{c(){n=d("div"),h.c(),l=p(),u=d("button"),u.textContent="Done",m(n,"class","svelte-faty5d")},m(t,c){i(t,n,c),h.m(n,null),s(n,l),s(n,u),o||(r=g(u,"click",e[10]),o=!0)},p(t,[e]){f===(f=a(t))&&h?h.p(t,e):(h.d(1),h=f(t),h&&(h.c(),h.m(n,l)))},i:t,o:t,d(t){t&&c(n),h.d(),o=!1,r()}}}function it(t,e,n){let l;r(t,V,(t=>n(11,l=t)));let{task:u={}}=e,o="";const s=()=>{!1===u.done?n(0,u.done=!0,u):n(0,u.done=!1,u),V.updateToLocal(l)};return t.$$set=t=>{"task"in t&&n(0,u=t.task)},[u,o,s,t=>{"Enter"==t.key&&(n(1,o.readOnly=!0,o),V.updateToLocal(l))},function(t){L[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},function(){u.name=this.value,n(0,u)},()=>n(1,o.readOnly=!1,o),function(t){L[t?"unshift":"push"]((()=>{o=t,n(1,o)}))},function(){u.name=this.value,n(0,u)},()=>n(1,o.readOnly=!1,o),()=>s()]}class ct extends H{constructor(t){super(),G(this,t,it,st,o,{task:0})}}function at(t,e,n){const l=t.slice();return l[3]=e[n],l}function dt(e){let n;return{c(){n=d("div"),n.textContent="No List selected.",m(n,"class","svelte-ywugyl")},m(t,e){i(t,n,e)},p:t,i:t,o:t,d(t){t&&c(n)}}}function ft(t){let e,n,l,u,o,r,a,h,y,b,_,k,x,L=t[1].lists[t[0]].length+"";a=new ut({});let C=t[1].lists[t[0]]&&pt(t);return{c(){e=d("div"),n=d("h2"),l=f(t[2]),u=f(" | "),o=f(L),r=p(),I(a.$$.fragment),h=p(),C&&C.c(),y=p(),b=d("button"),b.textContent="CleanUp",m(n,"id","Progress"),v(b,"margin","15px 0 15px auto"),v(b,"width","40%"),m(e,"class","task-list-container svelte-ywugyl")},m(t,c){i(t,e,c),s(e,n),s(n,l),s(n,u),s(n,o),s(e,r),J(a,e,null),s(e,h),C&&C.m(e,null),s(e,y),s(e,b),_=!0,k||(x=g(b,"click",V.cleanUpCurrentList),k=!0)},p(t,n){(!_||4&n)&&$(l,t[2]),(!_||3&n)&&L!==(L=t[1].lists[t[0]].length+"")&&$(o,L),t[1].lists[t[0]]?C?(C.p(t,n),3&n&&B(C,1)):(C=pt(t),C.c(),B(C,1),C.m(e,y)):C&&(U(),D(C,1,1,(()=>{C=null})),q())},i(t){_||(B(a.$$.fragment,t),B(C),_=!0)},o(t){D(a.$$.fragment,t),D(C),_=!1},d(t){t&&c(e),M(a),C&&C.d(),k=!1,x()}}}function pt(t){let e,n,l=t[1].lists[t[0]],u=[];for(let e=0;e<l.length;e+=1)u[e]=ht(at(t,l,e));const o=t=>D(u[t],1,1,(()=>{u[t]=null}));return{c(){for(let t=0;t<u.length;t+=1)u[t].c();e=h()},m(t,l){for(let e=0;e<u.length;e+=1)u[e].m(t,l);i(t,e,l),n=!0},p(t,n){if(3&n){let r;for(l=t[1].lists[t[0]],r=0;r<l.length;r+=1){const o=at(t,l,r);u[r]?(u[r].p(o,n),B(u[r],1)):(u[r]=ht(o),u[r].c(),B(u[r],1),u[r].m(e.parentNode,e))}for(U(),r=l.length;r<u.length;r+=1)o(r);q()}},i(t){if(!n){for(let t=0;t<l.length;t+=1)B(u[t]);n=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)D(u[t]);n=!1},d(t){a(u,t),t&&c(e)}}}function ht(t){let e,n;return e=new ct({props:{task:t[3]}}),{c(){I(e.$$.fragment)},m(t,l){J(e,t,l),n=!0},p(t,n){const l={};3&n&&(l.task=t[3]),e.$set(l)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){D(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function gt(t){let e,n,l,u,o,r,a,f;u=new et({});const h=[ft,dt],g=[];function $(t,e){return"default"!==t[1].currentList?0:1}return r=$(t),a=g[r]=h[r](t),{c(){e=d("main"),n=d("h1"),n.textContent="ToDo",l=p(),I(u.$$.fragment),o=p(),a.c(),m(n,"class","svelte-ywugyl"),m(e,"class","svelte-ywugyl")},m(t,c){i(t,e,c),s(e,n),s(e,l),J(u,e,null),s(e,o),g[r].m(e,null),f=!0},p(t,[n]){let l=r;r=$(t),r===l?g[r].p(t,n):(U(),D(g[l],1,1,(()=>{g[l]=null})),q(),a=g[r],a?a.p(t,n):(a=g[r]=h[r](t),a.c()),B(a,1),a.m(e,null))},i(t){f||(B(u.$$.fragment,t),B(a),f=!0)},o(t){D(u.$$.fragment,t),D(a),f=!1},d(t){t&&c(e),M(u),g[r].d()}}}function mt(t,e,n){let l,u;r(t,V,(t=>n(1,u=t)));let o=0;return t.$$.update=()=>{2&t.$$.dirty&&n(0,l=u.currentList),3&t.$$.dirty&&"default"!==l&&n(2,o=u.lists[l].filter((t=>t.done)).length),2&t.$$.dirty&&V.updateToLocal(u)},[l,u,o]}return new class extends H{constructor(t){super(),G(this,t,mt,gt,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
